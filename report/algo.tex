\documentclass[a4paper,11pt]{article}

\usepackage{mathcomp,amssymb}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{mathenv}
\usepackage{algorithmic,algorithm}


\newcommand{\widening}{\mathop{\triangledown}}

\title{Static Analysis by Path Focusing}
\author{Julien Henry}
\date{2011}

\begin{document}

 \algsetup{indent=3em} 
\begin{algorithmic}%[1] 
\STATE $A \gets \emptyset$
\STATE $P \gets \emptyset$
\FORALL {$p \in P_R / I_p \neq \emptyset$}
	\STATE $A \gets A \cup p$
\ENDFOR

\WHILE{true}
\STATE $A' \gets \emptyset$

\STATE $P' \gets \emptyset$

\WHILE{$A \neq \emptyset$}
	\STATE Select $p_i \in A$
	\STATE $A \gets A \setminus \{p_i\}$
	\STATE // First only consider the paths already seen (in $P$)
	\WHILE{true}
		\STATE $res \gets SmtSolve\left[
		P = \{ \textnormal{paths already seen} \}
		\right]$
		\IF {$res = unsat$}
			\STATE \textbf{break}
		\ENDIF
		\STATE Take the focus path $e$ from $p_i$ to $p_j$
		\STATE Update $X_{p_j}$
		\STATE $A \gets A \cup \{p_j\}$
	\ENDWHILE

	\STATE // Check if there exists a new feasible path 
	\STATE // that has never been computed
	\STATE $res \gets SmtSolve\left[
	\{ \textnormal{every paths} \}
	\right]$
	\IF{$res = sat$}
		\STATE Compute the path $e$
		\STATE $P' \gets P' \cup \{e\}$
		\STATE $A' \gets A' \cup \{p_i\}$
	\ENDIF

\ENDWHILE

\IF {$P' = \emptyset$}
	\STATE \textbf{break}
\ENDIF
\STATE // Add the new feasible paths to the graph
\STATE // and restart 
\STATE $P \gets P \cup P'$
\STATE $A \gets A'$
\ENDWHILE

\STATE Possibly perform some narrowing steps
\STATE Compute $\{X_{p_i},\ i \notin P_R\}$
\STATE \textbf{return} $\{X_{p_i},\ i \in P\}$
\end{algorithmic}

\bigskip

\end{document}
